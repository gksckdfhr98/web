# 네트워크

## 웹 통신의 큰 흐름 : https://www.google.com/ 을 접속할 때 일어나는 일

1) 브라우저는 dns를 통해 서버의 ip주소를 받는다. 
2) http 프로토콜을 사용해서 http request 메세지를 만든다.
3) TCP/IP 연결을 통해 http 요청이 서버로 전송.
4) 서버는 http 프로토콜을 사용해 http response 메세지를 생성.
5) TCP/IP 연결을 통해 http 요청이 컴퓨터로 전송.
6) 도착한 http response 메세지는 웹 페이지 데이터로 변환되고 브라우저에 의해 사용자에게 출력된다.

## TCP와 UDP의 차이점에 대해 설명해보세요.

TCP는 3-way hand shaking 과정을 통해 연결을 설정합니다. 높은 신뢰성을 보장하지만 속도가 느리다는 단점이 있습니다.
신뢰성이 중요한 파일 교환에 쓰입니다.

반면 UDP는 비연결형 서비스로 신뢰성이 떨어집니다. 수신 여부를 확인하지 않기 때문에 속도가 빠릅니다.
실시간성이 중요한 스트리밍에 사용됩니다.

## TCP 3,4 way handshake에 대해서 설명해보세요.

3-way hand shake는 TCP/IP 프로토콜을 이용해서 통신을 하는 응용프로그램이 데이터를 전송하기 전에 먼저 상대방 컴퓨터와 사전에 세션을 수립하는 과정.

1) A클라이언트가 B서버에 접속을 요청하는 SYN 패킷을 보낸다.
2) B서버는 SYN 요청을 받고 A클라이언트에게 요청을 수락한다는 ACK와 SYN flag가 설정된 패킷을 발송한다.
3) A클라이언트는 B서버에게 ACK을 보내고 이후 연결이 이루어지고 데이터가 오가게 된다.

4-way hand shake는 세션을 종료하기 위해 수행되는 절차입니다.

1) A클라이언트가 연결을 종료하겠다는 FIN flag를 전송한다.
2) B서버는 ACK을 보내고 자신의 통신이 끝날 때까지 기다리는데 이 상태가 TIME_WAIT 상태다.
3) B서버가 통신이 끝났으면 연결이 종료되었다고 A클라이언트에게 FIN flag를 전송한다.
4) A클라이언트는 ACK을 보낸다.

추가로, 서버에서 FIN flag를 전송하기 전에 전송한 패킷이 routing 지연이나 패킷 유실로 인한 재전송 등으로 FIN 패킷보다 늦게 도착한다면?

클라이언트에서 세션을 종료시킨 후 패킷을 받으므로 데이터는 유실된다.
이러한 현상에 대비하여 클라이언트는 서버로부터 FIN을 수신하더라도 일정시간동안 세션을 남겨놓는다.
